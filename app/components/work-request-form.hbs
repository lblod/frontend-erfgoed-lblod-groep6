<form {{on "submit" this.submitForm}}>
  <AddressSelector @onChange={{this.setAddress}} />
  {{#if this.address}}
    <div class="au-u-2-3@medium">
      <AuLabel for="object">Zoek uw beschermd object</AuLabel>
      <PowerSelect
        @triggerId="object"
        @allowClear={{true}}
        @search={{perform this.searchObjects}}
        @options={{this.objectOptions}}
        @selected={{this.protectedObject}}
        @onChange={{this.selectObject}}
        @loadingMessage="Aan het laden..."
        @searchEnabled={{true}}
        @noMatchesMessage="Geen resultaten"
        @searchMessage="Typ om te zoeken"
        as |suggestion|
      >
        {{suggestion.name}}<br>
        <small>{{suggestion.fullAddress}} {{suggestion.adminUnitName}}</small>
      </PowerSelect>
    </div>
  {{/if}}
  {{#if this.protectedObject}}
  <AuFormRow>
    <AuLabel
      for="firstName"
      class="au-u-margin-top"
      @error={{this.errors.firstName}}
      @required={{true}}
    >Voornaam</AuLabel>
    <AuInput
      id="firstName"
      @error={{this.errors.firstName}}
      {{on "keyup" this.changeFirstName}}
    />
  </AuFormRow>

  <AuFormRow>
    <AuLabel
      for="lastName"
      class="au-u-margin-top-small"
      @error={{this.errors.lastName}}
      @required={{true}}
    >Familienaam</AuLabel>
    <AuInput
      id="lastName"
      @error={{this.errors.lastName}}
      {{on "keyup" this.changeLastName}}
    />
  </AuFormRow>

  <AuFormRow class="au-u-margin-top-small">
    <AuButton type="submit" @skin="primary">
      Verstuur
    </AuButton>
  </AuFormRow>
  {{/if}}
</form>
